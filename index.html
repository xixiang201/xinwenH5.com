
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>æš–è‰²è°ƒå©šå§»æ•°æ®æ–°é—» H5</title>
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
      crossorigin
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Han+Sans+SC:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: light;
        --bg-dark: #2b211c;
        --bg-light: #fff5ec;
        --accent: #f26b38;
        --accent-2: #f2b138;
        --accent-3: #d95c8a;
        --text-dark: #3c2a20;
        --text-light: #fff7ef;
        --muted: #9c7a65;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Source Han Sans SC", "PingFang SC", "Microsoft YaHei",
          sans-serif;
        background: var(--bg-dark);
        color: var(--text-light);
        min-height: 100vh;
        overflow: hidden;
      }

      .page {
        width: min(960px, 100%);
        margin: 0 auto;
        min-height: 100vh;
        height: 100vh;
        display: none;
        flex-direction: column;
        justify-content: flex-start;
        padding: clamp(48px, 8vw, 90px) 24px;
        opacity: 0;
        transform: translateY(60px);
        transition: opacity 0.6s ease, transform 0.6s ease;
        overflow-y: auto;
        overflow-x: hidden;
        position: relative;
      }

      .page.active {
        display: flex;
        opacity: 1;
        transform: translateY(0);
      }

      .page-content {
        flex: 1;
        overflow: visible;
        width: 100%;
      }

      .hero {
        position: relative;
        text-align: center;
        color: var(--text-light);
        overflow: hidden;
        background-image: linear-gradient(
            135deg,
            rgba(11, 8, 6, 0.35),
            rgba(255, 154, 102, 0.25)
          ),
          url("./hero-cover.jpg");
        background-size: cover;
        background-position: center;
      }

      .hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background-image: radial-gradient(
          circle at center,
          rgba(242, 177, 56, 0.3),
          rgba(0, 0, 0, 0.45)
        );
        pointer-events: none;
      }

      .hero-content {
        position: relative;
        z-index: 1;
        max-width: 640px;
        margin: 0 auto;
      }

      .hero h1 {
        font-size: clamp(36px, 7vw, 64px);
        line-height: 1.2;
        margin-bottom: 18px;
        font-weight: 700;
        color: #fff6ed;
      }

      .hero p {
        font-size: clamp(16px, 2.8vw, 22px);
        color: rgba(255, 243, 235, 0.9);
        max-width: 640px;
        margin: 0 auto;
      }

      .eyebrow {
        letter-spacing: 0.3em;
        font-size: 14px;
        color: rgba(60, 42, 32, 0.65);
        text-transform: uppercase;
        margin-bottom: 12px;
      }

      @media (min-width: 900px) {
        .hero-content {
          margin: 0 auto;
        }
      }

      .nav-button {
        margin-top: 48px;
        margin-bottom: 24px;
        align-self: center;
        border: none;
        background: rgba(255, 255, 255, 0.8);
        color: var(--accent);
        padding: 14px 32px;
        border-radius: 999px;
        font-weight: 600;
        letter-spacing: 0.08em;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        transition: box-shadow 0.3s ease, transform 0.3s ease;
        position: relative;
        z-index: 20; /* ç¡®ä¿æŒ‰é’®åœ¨å¼¹å¹•ä¸Šæ–¹ï¼Œä¸ä¼šè¢«é®æŒ¡ */
        flex-shrink: 0;
      }

      .cta-section .nav-button {
        position: sticky;
        bottom: 24px;
        margin-top: 32px;
        margin-bottom: 0;
        box-shadow: 0 8px 24px rgba(60, 42, 32, 0.25);
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
      }

      .nav-button:hover {
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        transform: translateY(-2px);
      }

      .nav-button .icon {
        font-size: 18px;
        animation: pulse 1.6s ease infinite;
      }

      .stats {
        position: relative;
        background: var(--bg-light);
        color: var(--text-dark);
        overflow: hidden;
      }

      .stats-header {
        text-align: center;
        margin-bottom: 24px;
        margin-top: -70px;
      }

      .stats-body {
        text-align: left;
        color: var(--text-dark);
        line-height: 1.8;
        margin-top: 20px;
        margin-bottom: 32px;
      }

      .stats-body p {
        margin-bottom: 18px;
      }

      .stats-illustration {
        position: absolute;
        right: 0;
        bottom: 0;
        width: min(630px, 70vw);
        filter: drop-shadow(0 15px 35px rgba(60, 42, 32, 0.25));
      }

      .stats-illustration a {
        display: block;
        position: relative;
      }

      .stats-illustration img {
        width: 100%;
        height: auto;
        border-radius: 18px 0 0 0;
        display: block;
      }

      .stats-illustration.left {
        right: auto;
        left: 0;
        width: min(630px, 60vw);
        transform: translateY(-40px);
        pointer-events: auto;
      }

      .stats-illustration.left img {
        border-radius: 0 18px 0 0;
      }

      .cta-label {
        position: absolute;
        top: calc(100% - 30px);
        left: calc(50% - 165px);
        transform: translate(-50%, -18px);
        background: rgba(244, 162, 97, 0.9);
        color: #3c1f15;
        padding: 10px 18px;
        border-radius: 999px;
        font-weight: 700;
        letter-spacing: 0.2em;
        font-size: clamp(14px, 2vw, 18px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        text-transform: uppercase;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 16px;
      }

      .stat-card {
        background: #fff;
        border-radius: 18px;
        padding: 24px;
        box-shadow: 0 10px 30px rgba(242, 107, 56, 0.15);
        border: 1px solid rgba(242, 107, 56, 0.2);
      }

      .stat-title {
        font-size: 14px;
        color: var(--muted);
        letter-spacing: 0.08em;
      }

      .stat-value {
        font-size: 32px;
        font-weight: 700;
        color: var(--accent);
        margin-top: 8px;
      }

      .section-title {
        font-size: 28px;
        margin-bottom: 16px;
        color: var(--accent);
      }

      .section-subtitle {
        font-size: 16px;
        color: var(--muted);
        margin-bottom: 32px;
      }

      .section-lede {
        font-size: 20px;
        color: #7a4d33;
        margin-bottom: 20px;
        line-height: 1.6;
        font-weight: 600;
      }

      .section-subtitle--bold {
        font-weight: 600;
        color: #5a3b2b;
        text-align: left;
        margin-bottom: 24px;
      }

      .chart-section {
        background: linear-gradient(135deg, #fbe0cb, #f4a261);
        color: var(--text-dark);
      }

      .page.chart-section .page-content {
        margin-top: -70px;
      }

      #trend-chart {
        width: 100%;
        height: 420px;
        border-radius: 20px;
        background: rgba(255, 255, 255, 0.65);
        box-shadow: inset 0 0 0 1px rgba(242, 107, 56, 0.15);
        margin-top: 10px;
      }

      #comparison-chart {
        width: 100%;
        height: 420px;
        border-radius: 20px;
        background: rgba(255, 255, 255, 0.85);
        box-shadow: inset 0 0 0 1px rgba(90, 59, 43, 0.12),
          0 12px 28px rgba(90, 59, 43, 0.08);
        margin-top: 28px;
      }

      .chart-analysis {
        margin-top: 28px;
        padding: 24px;
        border-radius: 18px;
        background: rgba(255, 255, 255, 0.45);
        color: #7a4d33;
        line-height: 1.7;
        box-shadow: 0 10px 30px rgba(122, 77, 51, 0.15);
      }

      .chart-analysis strong {
        color: #b45309;
      }

      .timeline {
        background: linear-gradient(135deg, #fff4ec, #ffe0d1);
        color: var(--text-dark);
      }

      .page.timeline .section-title {
        margin-top: -70px;
      }

      .page.timeline .nav-button {
        margin-top: 28px;
      }

      .timeline-line {
        position: relative;
        margin: 32px 0;
        padding-left: 24px;
        border-left: 2px solid rgba(90, 59, 43, 0.2);
      }

      .timeline-item {
        margin-bottom: 24px;
        padding-left: 20px;
        position: relative;
      }

      .timeline-item::before {
        content: "";
        position: absolute;
        left: -30px;
        top: 6px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: var(--accent);
        box-shadow: 0 0 0 6px rgba(242, 107, 56, 0.15);
      }

      .timeline-year {
        font-weight: 600;
        color: var(--accent-2);
        margin-bottom: 6px;
      }

      .timeline-desc {
        color: #5a3b2b;
        line-height: 1.6;
      }

      .insight-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 20px;
        margin-top: 32px;
      }

      .insight {
        background: linear-gradient(135deg, #fff1e6, #ffd7ba);
        color: #5a3b2b;
        overflow: visible;
      }

      .page.insight .section-title {
        margin-top: -70px;
      }

      .danmaku-container {
        position: absolute;
        bottom: 10px;
        left: 0;
        width: 100%;
        height: 200px;
        overflow: hidden;
        pointer-events: none;
        z-index: 5; /* é™ä½å¼¹å¹•å®¹å™¨çš„z-indexï¼Œç¡®ä¿æŒ‰é’®åœ¨å¼¹å¹•ä¸Šæ–¹ */
        /* ç¡®ä¿å¼¹å¹•ä¸ä¼šè¶…å‡ºå®¹å™¨ */
        max-height: 200px;
      }

      .danmaku-track {
        position: absolute;
        width: 100%;
        height: 50px;
        display: flex;
        align-items: center;
      }

      .danmaku-item {
        position: absolute;
        white-space: nowrap;
        background: rgba(255, 255, 255, 0.92);
        padding: 10px 20px;
        border-radius: 25px;
        font-size: 14px;
        color: #5a3b2b;
        box-shadow: 0 4px 15px rgba(90, 59, 43, 0.2);
        border: 1px solid rgba(242, 107, 56, 0.25);
        animation: danmaku-scroll linear;
        font-weight: 500;
        backdrop-filter: blur(10px);
        will-change: transform;
        left: 100%;
        line-height: 1.4;
        max-width: none;
      }

      @keyframes danmaku-scroll {
        0% {
          left: 100%;
          transform: translateX(0);
        }
        100% {
          left: 0;
          transform: translateX(-100%);
        }
      }

      .danmaku-item:nth-child(odd) {
        background: rgba(255, 250, 244, 0.95);
      }

      .danmaku-item:nth-child(even) {
        background: rgba(255, 245, 238, 0.95);
      }

      .danmaku-item:nth-child(3n) {
        background: rgba(255, 240, 230, 0.95);
      }

      .opinion-gallery {
        position: relative;
        min-height: 380px;
        max-height: 65vh;
        overflow: visible;
      }

      .opinion-item {
        position: absolute;
        width: 120px;
        height: 120px;
        cursor: pointer;
        z-index: 1;
      }

      .opinion-item:hover {
        z-index: 1001;
      }

      .opinion-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        border-radius: 50%;
        box-shadow: 0 15px 35px rgba(90, 59, 43, 0.18);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .opinion-item:hover img {
        transform: translateY(-8px) scale(1.04);
        box-shadow: 0 20px 40px rgba(90, 59, 43, 0.25);
      }

      .opinion-popup {
        position: absolute;
        top: calc(100% + 16px);
        left: 50%;
        transform: translateX(-50%);
        display: none;
        width: auto;
        min-width: 300px;
        max-width: min(600px, 90vw);
        max-height: 80vh;
        border-radius: 16px;
        overflow: visible;
        box-shadow: 0 20px 50px rgba(90, 59, 43, 0.3);
        background: #fffaf4;
        z-index: 99999;
        padding: 0;
      }

      .opinion-popup::after {
        content: "";
        position: absolute;
        top: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 20px;
        height: 20px;
        background: #fffaf4;
        clip-path: polygon(50% 0, 0 100%, 100% 100%);
        z-index: 100000;
      }

      .opinion-popup img {
        width: auto;
        max-width: 100%;
        max-height: 80vh;
        height: auto;
        display: block;
        border-radius: 16px;
        object-fit: contain;
      }

      .opinion-item:hover .opinion-popup,
      .opinion-item:focus-within .opinion-popup {
        display: block;
      }

      @media (max-width: 700px) {
        .opinion-popup {
          width: min(85vw, 320px);
          bottom: auto;
          top: calc(100% + 16px);
          transform: translateX(-50%) scale(0.95);
        }

        .opinion-popup::after {
          top: -10px;
          bottom: auto;
          clip-path: polygon(50% 0, 0 100%, 100% 100%);
        }

        .opinion-item:hover .opinion-popup,
        .opinion-item:focus-within .opinion-popup {
          transform: translateX(-50%) scale(1);
        }
      }

      .opinion-item:nth-child(1) {
        top: 10px;
        left: 3%;
      }

      .opinion-item:nth-child(2) {
        top: 0;
        left: 25%;
      }

      .opinion-item:nth-child(3) {
        top: 25px;
        left: 50%;
      }

      .opinion-item:nth-child(4) {
        top: 5px;
        right: 5%;
      }

      .opinion-item:nth-child(5) {
        top: 150px;
        left: 8%;
      }

      .opinion-item:nth-child(6) {
        top: 140px;
        left: 32%;
      }

      .opinion-item:nth-child(7) {
        top: 160px;
        left: 55%;
      }

      .opinion-item:nth-child(8) {
        top: 145px;
        right: 8%;
      }

      .opinion-item:nth-child(9) {
        top: 280px;
        left: 18%;
      }

      .opinion-item:nth-child(10) {
        top: 290px;
        right: 20%;
      }

      @media (max-width: 700px) {
        .opinion-gallery {
          min-height: auto;
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 18px;
        }

        .opinion-item {
          position: relative;
          top: auto;
          left: auto;
          right: auto;
        }
      }

      .insight-card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 18px;
        padding: 24px;
        border: 1px solid rgba(255, 255, 255, 0.08);
      }

      .insight-card h4 {
        margin-bottom: 12px;
        color: var(--accent-3);
        font-size: 18px;
      }

      .cta-section {
        background: linear-gradient(120deg, #f26b38, #f2b138);
        text-align: center;
        color: var(--text-dark);
        justify-content: flex-start;
        height: 100vh;
        overflow-y: auto;
      }

      .cta-section .section-title {
        margin-top: -70px;
        color: #c6441e;
        text-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
      }

      .cta-section .page-content {
        padding-bottom: 120px;
        min-height: auto;
      }

      .cta-section p {
        margin: 16px auto 28px;
        max-width: 560px;
        color: rgba(60, 42, 32, 0.85);
        line-height: 1.6;
      }

      .cta-content {
        max-width: 720px;
        margin: 0 auto 40px;
        text-align: left;
      }

      .cta-intro {
        font-size: 18px;
        line-height: 1.8;
        color: rgba(60, 42, 32, 0.9);
        margin-bottom: 24px;
        font-weight: 500;
      }

      .cta-subsection {
        margin-bottom: 24px;
      }

      .cta-subtitle {
        font-size: 20px;
        font-weight: 700;
        color: #8b4513;
        margin-bottom: 16px;
        padding-left: 16px;
        border-left: 4px solid #f26b38;
        line-height: 1.4;
      }

      .cta-text {
        font-size: 16px;
        line-height: 1.85;
        color: rgba(60, 42, 32, 0.88);
        margin-bottom: 20px;
        text-align: justify;
      }

      .cta-highlight {
        background: rgba(255, 255, 255, 0.4);
        padding: 20px 24px;
        border-radius: 16px;
        margin: 24px 0;
        border-left: 4px solid #f2b138;
        box-shadow: 0 4px 12px rgba(60, 42, 32, 0.1);
      }

      .cta-highlight p {
        margin: 0 0 12px 0;
        font-size: 16px;
        line-height: 1.8;
        color: rgba(60, 42, 32, 0.9);
      }

      .cta-highlight p:last-child {
        margin-bottom: 0;
      }

      .cta-list {
        list-style: none;
        padding: 0;
        margin: 20px 0;
      }

      .cta-list li {
        padding: 16px 20px;
        margin-bottom: 12px;
        background: rgba(255, 255, 255, 0.35);
        border-radius: 12px;
        font-size: 16px;
        line-height: 1.7;
        color: rgba(60, 42, 32, 0.9);
        border-left: 3px solid #f26b38;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .cta-list li:hover {
        transform: translateX(4px);
        box-shadow: 0 4px 12px rgba(60, 42, 32, 0.15);
      }

      .cta-list li::before {
        content: "â†’";
        color: #f26b38;
        font-weight: bold;
        margin-right: 12px;
        font-size: 18px;
      }

      .cta-conclusion {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.5), rgba(255, 248, 240, 0.6));
        padding: 24px 28px;
        border-radius: 18px;
        margin-top: 24px;
        margin-bottom: 20px;
        text-align: center;
        box-shadow: 0 6px 20px rgba(60, 42, 32, 0.12);
        border: 1px solid rgba(242, 107, 56, 0.2);
      }

      .cta-conclusion p {
        margin: 0;
        font-size: 17px;
        line-height: 1.8;
        color: rgba(60, 42, 32, 0.95);
        font-weight: 500;
      }

      @media (max-width: 600px) {
        .cta-content {
          max-width: 100%;
          padding: 0 8px;
        }

        .cta-intro {
          font-size: 16px;
        }

        .cta-subtitle {
          font-size: 18px;
        }

        .cta-text {
          font-size: 15px;
        }

        .cta-highlight {
          padding: 20px;
        }

        .cta-list li {
          font-size: 15px;
          padding: 14px 16px;
        }
      }

      .cta-button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 32px;
        border-radius: 999px;
        background: #fff6ef;
        color: var(--accent);
        font-weight: 600;
        letter-spacing: 0.05em;
        text-decoration: none;
        box-shadow: 0 15px 30px rgba(60, 42, 32, 0.15);
        margin-top: 24px;
        margin-bottom: 24px;
      }

      footer {
        text-align: center;
        padding: 32px 16px 48px;
        font-size: 14px;
        color: rgba(255, 255, 255, 0.65);
      }

      @media (max-width: 600px) {
        .page {
          padding: 48px 18px;
        }

        .stat-value {
          font-size: 26px;
        }
      }

      .pagination-dots {
        position: fixed;
        right: 36px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 12px;
        z-index: 5;
      }

      .pagination-dots button {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: 1px solid rgba(255, 255, 255, 0.5);
        background: transparent;
        cursor: pointer;
        transition: transform 0.2s ease, background 0.2s ease;
      }

      .pagination-dots button.active {
        background: var(--accent-2);
        border-color: var(--accent-2);
        transform: scale(1.2);
      }

      @media (max-width: 640px) {
        .pagination-dots {
          right: 16px;
        }
      }
    </style>
  </head>
  <body>
    <div class="pagination-dots" aria-hidden="true"></div>
    <main>
      <section class="page hero" data-page="0">
        <div class="hero-content page-content">
          <p class="eyebrow">æ•°æ®æ–°é—» H5ï½œ2025</p>
          <h1>çœ‹è§å©šå§»æ¸©åº¦</h1>
          <p>æ— éœ€æˆ·å£æœ¬ï¼Œå©šå§»ç™»è®°å…¨å›½é€šåŠï¼</p>
        </div>
        <button class="nav-button next-btn" data-label="ä¸‹æ»‘æ¢ç´¢">
          <span>ä¸‹æ»‘æ¢ç´¢</span>
          <span class="icon">â†“</span>
        </button>
      </section>

      <section class="page stats" data-page="1">
        <div class="page-content">
          <header class="stats-header">
            <h2 class="section-title">èƒŒæ™¯é€Ÿè§ˆ</h2>
            <p class="section-lede">
              2025å¹´4æœˆ6æ—¥ï¼Œå›½åŠ¡é™¢æ€»ç†æå¼ºç­¾ç½²ç¬¬804å·å›½åŠ¡é™¢ä»¤ï¼Œå…¬å¸ƒä¿®è®¢åçš„ã€Šå©šå§»ç™»è®°æ¡ä¾‹ã€‹ï¼ˆä»¥ä¸‹ç®€ç§°ã€Šæ¡ä¾‹ã€‹ï¼‰ï¼Œè‡ª2025å¹´5æœˆ10æ—¥èµ·æ–½è¡Œã€‚
            </p>
          </header>
          <div class="stats-body">
            <p class="section-subtitle section-subtitle--bold">
              4æœˆ6æ—¥ï¼Œå¸æ³•éƒ¨ã€æ°‘æ”¿éƒ¨è´Ÿè´£äººå°±ã€Šæ¡ä¾‹ã€‹çš„ä¿®è®¢èƒŒæ™¯å›ç­”äº†è®°è€…æé—®ï¼š
            </p>
            <p class="section-subtitle">
              å…šä¸­å¤®ã€å›½åŠ¡é™¢é«˜åº¦é‡è§†å©šå§»å®¶åº­å·¥ä½œã€‚ä¹ è¿‘å¹³æ€»ä¹¦è®°å¼ºè°ƒï¼Œè¦é‡è§†å®¶åº­æ–‡æ˜å»ºè®¾ï¼Œæ³¨é‡å®¶åº­ã€æ³¨é‡å®¶æ•™ã€æ³¨é‡å®¶é£ï¼Œä¿ƒè¿›å®¶åº­å’Œè°ï¼Œä½¿åƒåƒä¸‡ä¸‡ä¸ªå®¶åº­æˆä¸ºå›½å®¶å‘å±•ã€æ°‘æ—è¿›æ­¥ã€ç¤¾ä¼šå’Œè°çš„é‡è¦åŸºç‚¹ï¼›è¦ç§¯æåŸ¹è‚²æ–°å‹å©šè‚²æ–‡åŒ–ï¼ŒåŠ å¼ºå¯¹å¹´è½»äººå©šæ‹è§‚ã€ç”Ÿè‚²è§‚ã€å®¶åº­è§‚çš„å¼•å¯¼ã€‚ç°è¡Œã€Šæ¡ä¾‹ã€‹è‡ª2003å¹´10æœˆ1æ—¥æ–½è¡Œä»¥æ¥ï¼Œå¯¹è§„èŒƒå©šå§»ç™»è®°å·¥ä½œã€ä¿éšœå©šå§»åˆ¶åº¦å®æ–½ã€ä¿æŠ¤å©šå§»å½“äº‹äººåˆæ³•æƒç›Šå‘æŒ¥äº†é‡è¦ä½œç”¨ã€‚è¿‘å¹´æ¥ï¼Œå©šå§»ç™»è®°é¢†åŸŸå‡ºç°äº†ä¸€äº›æ–°æƒ…å†µæ–°éœ€æ±‚ã€‚å…šä¸­å¤®ã€å›½åŠ¡é™¢å‡ºå°ä¸€ç³»åˆ—å…³äºåŠ å¼ºå®¶åº­å®¶æ•™å®¶é£å»ºè®¾çš„æ”¿ç­–æ–‡ä»¶ï¼Œå¯¹å©šå§»ç™»è®°å·¥ä½œæå‡ºæ–°è¦æ±‚ï¼Œéœ€è¦åœ¨ã€Šæ¡ä¾‹ã€‹ä¸­åŠ ä»¥è½å®ã€‚è‡ª2021å¹´6æœˆèµ·ï¼Œç»å›½åŠ¡é™¢æ‰¹å‡†ï¼Œå…¨å›½é™†ç»­æœ‰21ä¸ªçœï¼ˆè‡ªæ²»åŒºã€ç›´è¾–å¸‚ï¼‰å¼€å±•äº†ä¸¤è½®å©šå§»ç™»è®°â€œè·¨çœé€šåŠâ€è¯•ç‚¹ï¼Œè¯•ç‚¹å°†äºä»Šå¹´5æœˆç»“æŸï¼Œéœ€è¦å°†æ”¹é©æˆæœæ˜ç¡®ä¸ºæ³•å¾‹åˆ¶åº¦ã€‚å› æ­¤ï¼Œæœ‰å¿…è¦å¯¹ç°è¡Œã€Šæ¡ä¾‹ã€‹ä½œå‡ºä¿®è®¢ã€‚
            </p>
          </div>
        </div>
        <figure class="stats-illustration" aria-hidden="true">
          <img
            src="./ç”Ÿæˆå¸¦æœ‰è€å¼ç”µè§†æœºçš„å›¾ç‰‡.png"
            alt="ç”µè§†æœºä¸å©šå§»æ”¿ç­–æ–°é—»æ’ç”»"
          />
        </figure>
        <figure class="stats-illustration left">
          <a href="./åºåˆ—1.mp4" target="_blank" aria-label="æ’­æ”¾ç›¸å…³è§†é¢‘">
            <img
              src="./è€å¼ç”µè§†æœºçš„å›¾ç‰‡.png"
              alt="è€å¼ç”µè§†æœºé™ç‰©æ’ç”»"
            />
            <span class="cta-label">ç‚¹å‡»è§‚çœ‹</span>
          </a>
        </figure>
        <div class="stats-grid" aria-label="å¾…è¡¥å……æ•°æ®æ¨¡å—"></div>
        <button class="nav-button next-btn">
          <span>ç»§ç»­äº†è§£è¶‹åŠ¿</span>
          <span class="icon">â†“</span>
        </button>
      </section>

      <section class="page chart-section" data-page="2">
        <div class="page-content">
          <h2 class="section-title">è¶‹åŠ¿æ›²çº¿</h2>
          <div class="chart-analysis">
            <p>
              2015-2023 å¹´é—´ï¼Œ<strong>ç»“å©šç™»è®°æ€»ä½“å‘ˆé˜¶æ¢¯å¼ä¸‹è¡Œ</strong>ï¼Œä» 2015 å¹´çš„ 1244.71 ä¸‡å¯¹æ»‘è½åˆ°
              2023 å¹´çš„ 768.21 ä¸‡å¯¹ï¼Œä»… 2023 å¹´å› å¤šåœ°é¼“åŠ±æ”¿ç­–çŸ­æš‚å›å‡ï¼Œ2024 å¹´å†åº¦é™è‡³
              610.6 ä¸‡å¯¹ã€2025 å¹´å‰ä¸‰å­£åº¦ä¸º 515.2 ä¸‡å¯¹ï¼Œè¯´æ˜å©šè‚²æ„æ„¿ä»å¾…ææŒ¯ã€‚
            </p>
            <p>
              <strong>ç¦»å©šç™»è®°åœ¨ 2019 å¹´è§¦é¡¶åå¿«é€Ÿå›è½</strong>ï¼Œ2019 å¹´è¾¾åˆ° 470.06 ä¸‡å¯¹ï¼Œ2021 å¹´é™è‡³
              283.93 ä¸‡å¯¹ï¼Œä¸å©šå§»ç™»è®°â€œå†·é™æœŸâ€ã€ç–«æƒ…ç­‰å› ç´ ç›¸å…³ï¼Œæ­¤åä¿æŒåœ¨ 200-360 ä¸‡å¯¹åŒºé—´ã€‚
            </p>
            <p>
              ç»¼åˆæ¥çœ‹ï¼Œç¦»ç»“æ¯”åœ¨ 2020 å¹´åæ˜æ˜¾æ”¶çª„ï¼Œç»“å©šä¸ç¦»å©šåŒåŒå›è½ï¼Œä½†ç»“å©šé™å¹…æ›´å¤§â€”â€”
              <strong>å©šå§»å…³ç³»æ•´ä½“è¿›å…¥â€œç¼©é‡æœŸâ€</strong>ã€‚è¿™ä¹Ÿå‡¸æ˜¾å‡ºåŠ å¿«å®Œå–„è·¨çœé€šåŠã€ä¼˜åŒ–å©šå§»æœåŠ¡ä¸åŸ¹è‚²æ–°å‹å©šè‚²æ–‡åŒ–çš„é‡è¦æ€§ã€‚
            </p>
          </div>
          <div id="trend-chart"></div>
        </div>
        <button class="nav-button next-btn">
          <span>æŸ¥çœ‹å…³é”®èŠ‚ç‚¹</span>
          <span class="icon">â†“</span>
        </button>
      </section>

      <section class="page timeline" data-page="3">
        <div class="page-content">
          <h2 class="section-title">æ¨ªå‘å¯¹æ¯”</h2>
          <p class="section-subtitle section-subtitle--bold">
            2024 ä¸ 2025 å¹´å‰ä¸‰å­£åº¦ç»“å©šã€ç¦»å©šç™»è®°å¯¹æ¯”
          </p>
          <p class="section-subtitle">
            é€šè¿‡ç°‡çŠ¶æŸ±çŠ¶å›¾ï¼Œå¯äº¤äº’æŸ¥çœ‹åŒå­£åº¦ä¸åŒå¹´ä»½ã€ä¸åŒç™»è®°ç±»å‹çš„é‡çº§å·®å¼‚ï¼Œè§‚å¯Ÿ
            H5 æ•°æ®æ•…äº‹ä¸­çš„èŠ‚å¥èŠ‚ç‚¹ã€‚
          </p>
          <div id="comparison-chart" role="img" aria-label="2024 ä¸ 2025 å¹´å‰ä¸‰å­£åº¦ç»“å©šä¸ç¦»å©šç™»è®°ç°‡çŠ¶æŸ±çŠ¶å›¾"></div>
          <div class="timeline-line"></div>
          <div class="timeline-desc analysis-copy">
            2025 å¹´ 5 æœˆ 10 æ—¥æ–°ç‰ˆã€Šå©šå§»ç™»è®°æ¡ä¾‹ã€‹æ­£å¼å®æ–½ï¼Œâ€œæ— éœ€æˆ·å£æœ¬ã€è·¨çœé€šåŠâ€å¤§å¹…é™ä½ç™»è®°é—¨æ§›ã€‚ä»ç°‡çŠ¶æŸ±çŠ¶å›¾çœ‹ï¼Œ2025 å¹´ç¬¬ä¸€å­£åº¦
            <strong>ç»“å©šç™»è®°è·ƒå‡è‡³ 181 ä¸‡å¯¹</strong>ï¼Œè¾ƒ 2024 å¹´åŒæœŸçš„ 196.9 ä¸‡å¯¹è™½ä»ç•¥ä½ï¼Œä½†éšåä¸¤å­£ç»´æŒåœ¨
            172.9 ä¸‡å¯¹ä¸ 161.3 ä¸‡å¯¹ï¼Œè·Œå¹…æ˜æ˜¾æ”¾ç¼“ï¼Œè¯´æ˜æ”¿ç­–åˆ©å¥½æ­£åœ¨æ‰˜åº•ç»“å©šéœ€æ±‚ã€‚ç¦»å©šç™»è®°æ–¹é¢ï¼Œ2025 å¹´å‰ä¸‰å­£åº¦åˆ†åˆ«ä¸º 63ã€70.1ã€74.6 ä¸‡å¯¹ï¼Œæ•´ä½“ä¸
            2024 å¹´åŒæœŸï¼ˆ57.3ã€70.1ã€69.3 ä¸‡å¯¹ï¼‰è´´è¿‘ï¼Œä»…ç¬¬ä¸‰å­£åº¦ç•¥æœ‰æŠ¬å¤´ï¼Œæ˜¾ç¤ºâ€œå…ˆç™»è®°åå†·é™â€æœºåˆ¶å’Œè·¨çœåŠç†ä¾¿åˆ©åŒ–å¹¶æœªè¯±å‘é›†ä¸­ç¦»å©šï¼Œåè€Œè®©åŸå¸‚é—´æµåŠ¨äººç¾¤æ›´å¹³æ»‘åœ°å¤„ç†å©šå§»å…³ç³»ã€‚ç»¼åˆæ¥çœ‹ï¼Œ
            <strong>æ”¿ç­–ä¸»è¦æ¿€å‘çš„æ˜¯æ–°å¢ç»“å©šåŠ¨èƒ½</strong>ï¼Œç¦»å©šä¿æŒç¨³å®šï¼Œç¦»ç»“æ¯”æ”¹å–„æœ‰åŠ©äºå©šå§»ç»“æ„ä»â€œç¼©é‡æœŸâ€å‘â€œç¨³é‡æœŸâ€è¿‡æ¸¡ã€‚
          </div>
        </div>
        <button class="nav-button next-btn">
          <span>æ·±å…¥äººç¾¤æ•…äº‹</span>
          <span class="icon">â†“</span>
        </button>
      </section>

      <section class="page insight" data-page="4">
        <div class="page-content">
          <h2 class="section-title">ç¾¤ä¼—åæ˜ </h2>
          <p class="section-subtitle">
            å‘ˆç°å„å¤§åª’ä½“å¹³å°å®˜æ–¹è´¦å·è§†é¢‘ä¸‹ç½‘æ°‘çš„çœ‹æ³•ã€‚
          </p>
          <div class="opinion-gallery" aria-label="ç½‘æ°‘è§‚ç‚¹å¤´åƒå±•ç¤º">
            <div class="opinion-item" aria-label="è§‚ç‚¹ 1" tabindex="0">
              <img src="./1.jpg" alt="ç½‘å‹å¤´åƒ 1" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 1" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 2" tabindex="0">
              <img src="./2.jpg" alt="ç½‘å‹å¤´åƒ 2" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 2" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 3" tabindex="0">
              <img src="./3.jpg" alt="ç½‘å‹å¤´åƒ 3" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 3" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 4" tabindex="0">
              <img src="./4.jpg" alt="ç½‘å‹å¤´åƒ 4" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 4" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 5" tabindex="0">
              <img src="./5.jpg" alt="ç½‘å‹å¤´åƒ 5" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 5" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 6" tabindex="0">
              <img src="./6.jpg" alt="ç½‘å‹å¤´åƒ 6" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 6" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 7" tabindex="0">
              <img src="./7.jpg" alt="ç½‘å‹å¤´åƒ 7" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 7" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 8" tabindex="0">
              <img src="./8.jpg" alt="ç½‘å‹å¤´åƒ 8" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 8" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 9" tabindex="0">
              <img src="./9.jpg" alt="ç½‘å‹å¤´åƒ 9" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 9" />
              </div>
            </div>
            <div class="opinion-item" aria-label="è§‚ç‚¹ 10" tabindex="0">
              <img src="./10.jpg" alt="ç½‘å‹å¤´åƒ 10" />
              <div class="opinion-popup">
                <img alt="è§‚ç‚¹æˆªå›¾ 10" />
              </div>
            </div>
          </div>
        </div>
        <button class="nav-button next-btn">
          <span>å°¾é¡µæ€»ç»“</span>
          <span class="icon">â†“</span>
        </button>
        <div class="danmaku-container" aria-hidden="true"></div>
      </section>

      <section class="page cta-section" data-page="5">
        <div class="page-content">
          <h2 class="section-title">ä»"ç¨‹åºå‡è´Ÿ"åˆ°"å¹¸ç¦åŠ åˆ†"</h2>
          <div class="cta-content">
            <p class="cta-intro">
              å½“æˆ‘ä»¬ç¿»é˜…è¿‘åå¹´çš„å©šå§»æ•°æ®æ›²çº¿ï¼Œçœ‹åˆ°çš„æ˜¯ç¤¾ä¼šå˜è¿çš„è„‰æï¼›è€Œèšç„¦2024ä¸2025å¹´çš„å­£åº¦å¯¹æ¯”ï¼Œæˆ‘ä»¬æ•æ‰åˆ°çš„ï¼Œåˆ™æ˜¯ä¸€çº¸æ–°è§„è½åœ°åï¼Œæ¿€èµ·çš„çœŸå®æ¶Ÿæ¼ªã€‚
            </p>

            <div class="cta-subsection">
              <h3 class="cta-subtitle">æ•°æ®å‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ª"ç®€åŒ–"çš„æ•…äº‹</h3>
              <p class="cta-text">
                æ–°çš„ã€Šå©šå§»ç™»è®°æ¡ä¾‹ã€‹ç§»å¼€äº†"æˆ·å£æœ¬"è¿™é“ç¨‹åºä¸Šçš„é—¨æ§›ã€‚æ•°æ®æ˜¾ç¤ºï¼Œæ¡ä¾‹é¢å¸ƒåï¼Œç»“å©šç™»è®°äººæ•°å‡ºç°äº†å€¼å¾—å…³æ³¨çš„æ³¢åŠ¨ã€‚è¿™ä¸ä»…ä»…æ˜¯æ•°å­—çš„å˜åŒ–ï¼Œæ›´æ˜¯æˆåƒä¸Šä¸‡ä¸ªä½“ï¼Œç‰¹åˆ«æ˜¯èº«å¤„å¼‚åœ°ã€æˆ–é¢ä¸´å®¶åº­æ²Ÿé€šé˜»ç¢çš„å¹´è½»äººï¼Œè¿ˆå‘å©šå§»æ®¿å ‚çš„è·¯å¾„è¢«"æ‹“å®½"ä¸"ç…§äº®"çš„è¯æ˜ã€‚ç»“å©šï¼Œæ­£ä»ä¸€é“éœ€è¦å¤šæ–¹ç›–ç« çš„"å®¶åº­äº‹åŠ¡"ï¼Œé€æ­¥å›å½’ä¸ºä¸¤ä¸ªç‹¬ç«‹ä¸ªä½“åŸºäºæ„æ„¿çš„"ä¸ªäººé€‰æ‹©"ã€‚
              </p>
            </div>

            <div class="cta-subsection">
              <h3 class="cta-subtitle">ä½†æ•°æ®ä¹Ÿæé†’æˆ‘ä»¬ä¸€ä¸ª"å¤æ‚"çš„çœŸç›¸</h3>
              <p class="cta-text">
                ä¸æ­¤åŒæ—¶ï¼Œç¦»å©šç™»è®°äººæ•°çš„è¶‹åŠ¿ï¼Œä¾ç„¶æ²¿ç€å…¶å›ºæœ‰çš„è½¨è¿¹è¿è¡Œã€‚è¿™æ¸…æ™°åœ°å‘Šè¯‰æˆ‘ä»¬ï¼šç¨‹åºçš„ä¾¿åˆ©ï¼Œå¹¶æœªæ’¼åŠ¨å©šå§»å†…æ ¸çš„é‡é‡ã€‚äººä»¬ä¸ä¼šå› ä¸ºç»“å©šå˜å®¹æ˜“è€Œè‰ç‡ç»“åˆï¼ŒåŒæ ·ï¼Œä¹Ÿä¸ä¼šå› ä¸ºç¦»å©šç¨‹åºçš„å†·é™æœŸç­‰è§„å®šè€Œè½»æ˜“æ”¾å¼ƒå¯¹ä¸å¹¸å©šå§»çš„è§£è„±ã€‚
              </p>
            </div>

            <div class="cta-highlight">
              <p><strong>æˆ‘ä»¬çš„å‘ç°ï¼š</strong></p>
              <p>
                è¿™æœ¬æ–°ã€Šæ¡ä¾‹ã€‹ï¼Œä¸å…¶è¯´æ˜¯ä¸€åœºé¢ è¦†ï¼Œä¸å¦‚è¯´æ˜¯ä¸€æ¬¡"æ¾ç»‘"ã€‚å®ƒæ¾ç»‘çš„æ˜¯å½¢å¼ï¼Œè€Œéè´£ä»»ï¼›å®ƒç®€åŒ–çš„æ˜¯æµç¨‹ï¼Œè€Œéæƒ…æ„Ÿã€‚
              </p>
            </div>

            <div class="cta-subsection">
              <p class="cta-text" style="margin-bottom: 16px; font-weight: 600; color: rgba(60, 42, 32, 0.95);">
                å®ƒæ‰€å¸¦æ¥çš„æ·±è¿œå½±å“ï¼Œæˆ–è®¸ä¸åœ¨äºç»“å©šæ€»é‡çš„å‰§çƒˆæ”€å‡ï¼Œè€Œåœ¨äºï¼š
              </p>
              <ul class="cta-list">
                <li>è®©"æƒ³ç»“"å’Œ"èƒ½ç»“"ä¹‹é—´çš„è·ç¦»æ›´è¿‘ã€‚</li>
                <li>è®©å©šå§»çš„èµ·ç‚¹ï¼Œæ›´å¤šåœ°å›å½’äº"æˆ‘ä»¬ç›¸çˆ±ä¸”è‡ªæ„¿"ã€‚</li>
              </ul>
            </div>

            <div class="cta-conclusion">
              <p>å®ƒæ ‡å¿—ç€ç¤¾ä¼šæ²»ç†å¯¹ä¸ªäººé€‰æ‹©çš„å°Šé‡æ›´è¿›ä¸€æ­¥ã€‚</p>
            </div>
          </div>
        </div>
        <button class="nav-button next-btn" data-loop="true">
          <span>å›åˆ°é¦–é¡µ</span>
          <span class="icon">â†‘</span>
        </button>
      </section>
    </main>

    <footer>Â© 2025 å©šå§»æ¸©åº¦æ•°æ®æ–°é—» Â· é¢„è§ˆç‰ˆæ¡†æ¶</footer>

    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <script>
      const charts = [];

      const trendChartDom = document.getElementById("trend-chart");
      if (trendChartDom) {
        const trendChart = echarts.init(trendChartDom);
        charts.push(trendChart);

        const placeholderYears = [
          "2015",
          "2016",
          "2017",
          "2018",
          "2019",
          "2020",
          "2021",
          "2022",
          "2023",
          "2024",
          "2025å‰ä¸‰å­£åº¦",
        ];

        const trendOption = {
          backgroundColor: "transparent",
          tooltip: { trigger: "axis" },
          legend: {
            data: ["ç»“å©šç™»è®°", "ç¦»å©šç™»è®°"],
            textStyle: { color: "#7a4d33" },
          },
          grid: { top: 50, left: 40, right: 20, bottom: 40 },
          xAxis: {
            type: "category",
            data: placeholderYears,
            axisLine: { lineStyle: { color: "#c98252" } },
            axisLabel: { color: "#7a4d33" },
          },
          yAxis: {
            type: "value",
            name: "ä¸‡å¯¹",
            nameTextStyle: {
              color: "#7a4d33",
              padding: [0, 0, 10, -30],
            },
            axisLine: { show: false },
            splitLine: {
              lineStyle: { color: "rgba(122, 77, 51, 0.2)" },
            },
            axisLabel: { color: "#7a4d33" },
          },
          series: [
            {
              name: "ç»“å©šç™»è®°",
              type: "line",
              smooth: true,
              data: [1244.71, 1142.82, 1063.1, 1013.94, 927.33, 814.33, 764.3, 683.5, 768.21, 610.6, 515.2],
              lineStyle: { width: 4, color: "#f26b38" },
              areaStyle: {
                color: "rgba(242, 107, 56, 0.25)",
              },
            },
            {
              name: "ç¦»å©šç™»è®°",
              type: "line",
              smooth: true,
              data: [384.14, 415.82, 437.4, 446.08, 470.06, 433.9, 283.93, 287.92, 360.53, 262.1, 207.7],
              lineStyle: { width: 4, color: "#d95c8a" },
              areaStyle: {
                color: "rgba(217, 92, 138, 0.25)",
              },
            },
          ],
        };

        trendChart.setOption(trendOption);
      }

      const comparisonDom = document.getElementById("comparison-chart");
      if (comparisonDom) {
        const comparisonChart = echarts.init(comparisonDom);
        charts.push(comparisonChart);

        const quarterLabels = ["ç¬¬ä¸€å­£åº¦", "ç¬¬äºŒå­£åº¦", "ç¬¬ä¸‰å­£åº¦"];
        const comparisonOption = {
          backgroundColor: "transparent",
          tooltip: {
            trigger: "axis",
            axisPointer: { type: "shadow" },
          },
          legend: {
            data: [
              "2024 ç»“å©šç™»è®°",
              "2024 ç¦»å©šç™»è®°",
              "2025 ç»“å©šç™»è®°",
              "2025 ç¦»å©šç™»è®°",
            ],
            textStyle: { color: "#5a3b2b" },
            top: 10,
          },
          grid: { top: 80, left: 40, right: 20, bottom: 40 },
          xAxis: {
            type: "category",
            data: quarterLabels,
            axisLine: { lineStyle: { color: "#c98252" } },
            axisLabel: { color: "#7a4d33" },
          },
          yAxis: {
            type: "value",
            name: "ä¸‡å¯¹",
            nameTextStyle: { color: "#7a4d33" },
            splitLine: {
              lineStyle: { color: "rgba(90, 59, 43, 0.15)" },
            },
            axisLabel: { color: "#7a4d33" },
          },
          series: [
            {
              name: "2024 ç»“å©šç™»è®°",
              type: "bar",
              data: [196.9, 146.1, 131.7],
              itemStyle: { color: "#f26b38" },
              barGap: 0,
              emphasis: { focus: "series" },
              animationDuration: 1200,
            },
            {
              name: "2024 ç¦»å©šç™»è®°",
              type: "bar",
              data: [57.3, 70.1, 69.3],
              itemStyle: { color: "#d95c8a" },
              emphasis: { focus: "series" },
              animationDuration: 1200,
              animationDelay: (idx) => idx * 80 + 100,
            },
            {
              name: "2025 ç»“å©šç™»è®°",
              type: "bar",
              data: [181, 172.9, 161.3],
              itemStyle: { color: "#f2b138" },
              emphasis: { focus: "series" },
              animationDuration: 1200,
              animationDelay: (idx) => idx * 80 + 200,
            },
            {
              name: "2025 ç¦»å©šç™»è®°",
              type: "bar",
              data: [63, 70.1, 74.6],
              itemStyle: { color: "#a45a93" },
              emphasis: { focus: "series" },
              animationDuration: 1200,
              animationDelay: (idx) => idx * 80 + 300,
            },
          ],
          animationEasing: "cubicOut",
        };

        comparisonChart.setOption(comparisonOption);
      }

      const resizeCharts = () => {
        charts.forEach((instance) => instance.resize());
      };

      window.addEventListener("resize", resizeCharts);

      // åˆ†é¡µäº¤äº’
      const pages = Array.from(document.querySelectorAll(".page"));
      const dotsContainer = document.querySelector(".pagination-dots");
      let currentPage = 0;
      let wheelLocked = false;

      const renderDots = () => {
        dotsContainer.innerHTML = "";
        pages.forEach((_, idx) => {
          const dot = document.createElement("button");
          dot.setAttribute("aria-label", `å‰å¾€ç¬¬ ${idx + 1} å±`);
          dot.addEventListener("click", () => showPage(idx));
          dotsContainer.appendChild(dot);
        });
      };

      const updateActiveDot = () => {
        dotsContainer.querySelectorAll("button").forEach((btn, idx) => {
          btn.classList.toggle("active", idx === currentPage);
        });
      };

      const showPage = (idx) => {
        if (idx < 0 || idx >= pages.length) return;
        pages[currentPage].classList.remove("active");
        
        // å¦‚æœç¦»å¼€insighté¡µé¢ï¼Œåœæ­¢å¼¹å¹•
        if (pages[currentPage].classList.contains("insight")) {
          stopDanmaku();
        }
        
        currentPage = idx;
        pages[currentPage].classList.add("active");
        updateActiveDot();
        
        // å¦‚æœè¿›å…¥insighté¡µé¢ï¼ˆdata-page="4"ï¼‰ï¼Œå¯åŠ¨å¼¹å¹•
        const isInsightPage = pages[currentPage].getAttribute("data-page") === "4" || 
                             pages[currentPage].classList.contains("insight");
        if (isInsightPage) {
          // ç«‹å³å¯åŠ¨å¼¹å¹•ï¼Œä¸å»¶è¿Ÿ
          // ä½¿ç”¨setTimeout 0ç¡®ä¿åœ¨DOMæ›´æ–°åæ‰§è¡Œ
          setTimeout(() => {
            initDanmaku();
          }, 50);
        }
        
        if (
          pages[currentPage].querySelector("#trend-chart") ||
          pages[currentPage].querySelector("#comparison-chart")
        ) {
          requestAnimationFrame(resizeCharts);
        }
      };

      const nextPage = () => {
        if (currentPage < pages.length - 1) {
          showPage(currentPage + 1);
        } else {
          showPage(0);
        }
      };

      const prevPage = () => {
        if (currentPage > 0) {
          showPage(currentPage - 1);
        }
      };

      const handleWheel = (event) => {
        // æ£€æŸ¥æ˜¯å¦åœ¨æœ€åä¸€é¡µï¼ˆcta-sectionï¼Œdata-page="5"ï¼‰
        const isLastPage = currentPage === pages.length - 1;
        const lastPageElement = pages[currentPage];
        const isCtaSection = lastPageElement && lastPageElement.classList.contains("cta-section");
        
        if (isLastPage && isCtaSection) {
          // åœ¨æœ€åä¸€é¡µæ—¶ï¼Œæ£€æŸ¥æ˜¯å¦å·²ç»æ»šåŠ¨åˆ°åº•éƒ¨
          const scrollTop = lastPageElement.scrollTop;
          const scrollHeight = lastPageElement.scrollHeight;
          const clientHeight = lastPageElement.clientHeight;
          const isAtBottom = scrollTop + clientHeight >= scrollHeight - 10; // 10px å®¹å·®
          
          // å¦‚æœå‘ä¸‹æ»šåŠ¨ä¸”è¿˜æ²¡åˆ°åº•éƒ¨ï¼Œå…è®¸é¡µé¢æ­£å¸¸æ»šåŠ¨
          if (event.deltaY > 0 && !isAtBottom) {
            // ä¸é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œå…è®¸é¡µé¢æ»šåŠ¨
            return;
          }
          
          // å¦‚æœå‘ä¸Šæ»šåŠ¨ï¼Œå…è®¸é¡µé¢æ­£å¸¸æ»šåŠ¨
          if (event.deltaY < 0) {
            return;
          }
          
          // å¦‚æœå·²ç»åˆ°åº•éƒ¨ä¸”ç»§ç»­å‘ä¸‹æ»šåŠ¨ï¼Œæ‰è§¦å‘ç¿»é¡µå›åˆ°é¦–é¡µ
          if (event.deltaY > 0 && isAtBottom) {
            event.preventDefault();
            if (wheelLocked) return;
            wheelLocked = true;
            showPage(0); // å›åˆ°é¦–é¡µ
            setTimeout(() => {
              wheelLocked = false;
            }, 800);
            return;
          }
        }
        
        // å…¶ä»–é¡µé¢çš„æ­£å¸¸ç¿»é¡µé€»è¾‘
        event.preventDefault();
        if (wheelLocked) return;
        wheelLocked = true;
        if (event.deltaY > 0) {
          nextPage();
        } else {
          prevPage();
        }
        setTimeout(() => {
          wheelLocked = false;
        }, 800);
      };

      const setupTouch = () => {
        let startY = 0;
        let endY = 0;
        window.addEventListener(
          "touchstart",
          (e) => {
            startY = e.touches[0].clientY;
          },
          { passive: true }
        );
        window.addEventListener(
          "touchend",
          (e) => {
            endY = e.changedTouches[0].clientY;
            const diff = endY - startY;
            if (Math.abs(diff) < 50) return;
            if (diff < 0) {
              nextPage();
            } else {
              prevPage();
            }
          },
          { passive: true }
        );
      };

      document.querySelectorAll(".next-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          if (btn.dataset.loop) {
            showPage(0);
          } else {
            nextPage();
          }
        });
      });

      renderDots();
      pages[0].classList.add("active");
      updateActiveDot();
      window.addEventListener("wheel", handleWheel, { passive: false });
      setupTouch();

      // å¼¹çª—æ§åˆ¶å’Œå›¾ç‰‡è·¯å¾„è®¾ç½®
      document.addEventListener("DOMContentLoaded", () => {
        const opinionItems = document.querySelectorAll(".opinion-item");
        const imageNames = ["1(2).jpg", "2(2).jpg", "3(2).jpg", "4(2).jpg", "5(2).jpg", 
                           "6(2).jpg", "7(2).jpg", "8(2).jpg", "9(2).jpg", "10(2).jpg"];
        
        opinionItems.forEach((item, index) => {
          const popup = item.querySelector(".opinion-popup");
          const popupImg = popup ? popup.querySelector("img") : null;
          
          if (popupImg && imageNames[index]) {
            // è®¾ç½®å›¾ç‰‡è·¯å¾„ï¼Œä½¿ç”¨URLç¼–ç ç¡®ä¿ç‰¹æ®Šå­—ç¬¦æ­£ç¡®å¤„ç†
            const imageName = imageNames[index];
            popupImg.src = "./" + imageName;
            
            // æ·»åŠ é”™è¯¯å¤„ç†ï¼Œå¦‚æœç›´æ¥è·¯å¾„å¤±è´¥ï¼Œå°è¯•URLç¼–ç 
            popupImg.onerror = function() {
              console.log("å°è¯•åŠ è½½å›¾ç‰‡:", this.src);
              const encodedName = encodeURIComponent(imageName);
              this.src = "./" + encodedName;
              this.onerror = function() {
                console.error("å›¾ç‰‡åŠ è½½å¤±è´¥:", imageName);
              };
            };
          }
          
          if (popup) {
            item.addEventListener("mouseenter", () => {
              popup.style.display = "block";
              // ç­‰å¾…ä¸€å¸§ï¼Œç¡®ä¿å¼¹çª—å·²æ¸²æŸ“
              requestAnimationFrame(() => {
                const rect = popup.getBoundingClientRect();
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                
                // æ£€æŸ¥å³è¾¹ç•Œ
                if (rect.right > viewportWidth) {
                  popup.style.left = "auto";
                  popup.style.right = "0";
                  popup.style.transform = "translateX(0)";
                }
                // æ£€æŸ¥å·¦è¾¹ç•Œ
                else if (rect.left < 0) {
                  popup.style.left = "0";
                  popup.style.transform = "translateX(0)";
                }
                
                // æ£€æŸ¥ä¸‹è¾¹ç•Œï¼Œå¦‚æœè¶…å‡ºåˆ™æ˜¾ç¤ºåœ¨ä¸Šæ–¹
                if (rect.bottom > viewportHeight) {
                  popup.style.top = "auto";
                  popup.style.bottom = "calc(100% + 16px)";
                }
              });
            });
            item.addEventListener("mouseleave", () => {
              popup.style.display = "none";
              // é‡ç½®ä½ç½®
              popup.style.left = "50%";
              popup.style.right = "auto";
              popup.style.top = "calc(100% + 16px)";
              popup.style.bottom = "auto";
              popup.style.transform = "translateX(-50%)";
            });
          }
        });
      });

      // å¼¹å¹•åˆå§‹åŒ–
      const danmakuTexts = [
        "@â˜†è´è’‚ğŸ”†Beâ‚¬Kyâ˜†: å¹²è„†å¼„ä¸ªæ‰«ä¸€æ‰«æ³¨å†Œä¸€ä¸‹å°±ç»“",
        "@ğŸ˜€ğŸ”ğŸ¤¡: äººä»¬ä¸ç»“å©šæ˜¯å› ä¸ºæµç¨‹ç¹çå—",
        "@æ¶‚æ¶‚éº»éº»: å»ºè®®æ›´åŠ ä¸¥æ ¼æ‰è¡Œï¼Œæˆ·å£æœ¬ï¼Œä½“æ£€æŠ¥å‘Šï¼Œå¾ä¿¡æŠ¥å‘Šï¼Œæ— çŠ¯ç½ªè®°å½•",
        "@å‘—å‘—å…”: æ²¡ç¦»å©šå†ç»“å©šæ€ä¹ˆåˆ¤",
        "@æ—¥è½æ”¶è—å®¶â˜€ï¸: ä¸ºäº†é«˜è´¨é‡å©šå§»ï¼Œå»ºè®®æ›´åŠ ä¸¥æ ¼æ‰è¡Œï¼Œæˆ·å£æœ¬ï¼Œä½“æ£€æŠ¥å‘Šï¼Œå¾ä¿¡æŠ¥å‘Šï¼Œæ— çŠ¯ç½ªè®°å½•",
        "@å°å°: æ˜¨å¤©åˆšå»æ°‘æ”¿å±€ç”³è¯·ç¦»å©š ä½†æ„¿æ²¡å˜æ•° ä¸‹æœˆ6.10æ‹¿è¯ ä¸ƒå¹´ç‰¢ç‹±",
        "@æ¤¿æ¤¿çˆ±åƒé¦™æ¤¿: è¿™ä¹ˆä¾¿åˆ©äº† 520è‚¯å®šè¦å½»å¤œæ’é˜Ÿäº†",
        "@å¿µâ‚Ë„Â·Íˆà¼Â·ÍˆË„*â‚â— Ì‘Ì‘: æ„Ÿè§‰ç»“å©šè¶Šæ¥è¶Šç®€å•ï¼Œç¦»å©šåè€Œè¿˜æœ‰ç‚¹éš¾äº†",
        "@å…„å¼Ÿæ¢“å”: å–æ¶ˆç»“å©šè¯ç¦»å©šè¯å§ï¼Œç›´æ¥åœ¨èº«ä»½è¯ä¸Šæ˜¾ç¤ºå°±å¥½äº†",
        "@ä¸å¿…ç†ä¼š: å¯ä»¥å†æ–¹ä¾¿ä¸€ç‚¹ï¼Ÿåœ¨å¾®ä¿¡å°ç¨‹åºç™»è®°å°±å¥½äº†å—ï¼Ÿ",
        "@æ—¶å¹´ä¸‰å…­: æŒºå¥½ æ–¹ä¾¿     30å¤©å–æ¶ˆäº†æ›´å¥½",
        "@å‘€å‘€ä¹: è¿™ç¦»å©šç‡æ›´é«˜äº†",
        "@åäºŒS: æ•´ä¸ªAPPå§ï¼Œæœ€å¥½éƒ½ä¸ç”¨åˆ°åœº",
        "@ç”¨æˆ·8885504663150: é™¤äº†äº›å¹´è½»ä¸Šå¤´çš„ï¼Œç°åœ¨ç»“å©šçš„å¤ªå°‘äº†",
        "@å°è‹: ç›¸å½“äºç»“å©šç”Ÿå­©å­ç¦»å©šæé€Ÿç‰ˆäº†",
        "@L.L: è¿™æ ·ä¼šä¸ä¼šå†²åŠ¨ç»“å©šçš„å¤šäº†ï¼Œéšä¹‹è€Œæ¥çš„åæ‚”ç¦»å©šä¹Ÿå¢å¤š",
        "@ä¸€ç¦¾å®¶: è¿™ä¸æ˜¯å‡ºå»æ—…ä¸ªæ¸¸ï¼Œå°±èƒ½ç»“å©šäº†",
        "@ç‡•å„¿000382: è¿™æ˜¯è¶Šæ¥è¶Šæ–¹ä¾¿äº†ï¼Œéšæ—¶éšåœ°ç»“å©šç¦»å©š",
        "@æ— ç†å–é—¹: æ²¡æœ‰å½©ç¤¼äº†ï¼Œèµ·åºŠèµ¶ç´§ç»“å©šå»å§",
        "@CcyğŸ¦‹: æˆ‘è§‰å¾—ç»“å©šå¯ä»¥æœ¬äººåˆ°åœºï¼Œå›¾ä¸ªå–œåº†ï¼Œç¦»å©šå°±ä¸å¿…äº†å§ï¼Œæ‰‹æœºä¸Šç”³è¯·ä¸€ä¸‹ï¼Œæ—¶é—´åˆ°äº†æŠŠè¯å¯„åˆ°æ‰‹å°±è¡Œ",
        "@é”€å£°: ä»¥åä¸ç”¨å·æˆ·å£æœ¬äº†",
        "@è©¹è©¹çš„taco: é‚£ä¸å°±æ˜¯ä¸ç”¨è§è€ä¸ˆäººäº†å‘—",
        "@å°ç¥å®è´å–ğŸµ: ç»“å©šæ¯”åŠä¸ªé“¶è¡Œå¡éƒ½ç®€å•",
        "@ğŸ¥‡æç±³å–: åº”è¯¥æ›´æ–°èº«ä»½è¯ï¼Œå¢åŠ é…å¶é‚£ä¸€æ ",
        "@åŒåœ¨è·¯ä¸Š: èº«ä»½è¯æˆ‘å¸¦äº†ï¼Œè¯·é—®å¯¹è±¡å“ªé‡Œé¢†ï¼Ÿ"
      ];

      // æ£€æŸ¥ä¸¤ä¸ªè¾¹ç•Œæ¡†æ˜¯å¦é‡å ï¼ˆè€ƒè™‘å®‰å…¨é—´è·ï¼‰
      function checkBoundaryOverlap(box1, box2, safetyMargin = 50) {
        // boxæ ¼å¼: { left, right, top, bottom }
        // æ£€æŸ¥æ˜¯å¦æœ‰é‡å ï¼ˆè€ƒè™‘å®‰å…¨è¾¹è·ï¼‰
        // å¢åŠ å®‰å…¨é—´è·åˆ°50pxï¼Œç¡®ä¿å¼¹å¹•ä¹‹é—´æœ‰æ˜æ˜¾çš„è§†è§‰åˆ†ç¦»ï¼Œä¸ä¼šé®æŒ¡å†…å®¹
        // åªæœ‰å½“æ°´å¹³å’Œå‚ç›´æ–¹å‘éƒ½é‡å æ—¶ï¼Œæ‰è®¤ä¸ºæœ‰é‡å 
        const horizontalOverlap = !(box1.right + safetyMargin < box2.left || box1.left > box2.right + safetyMargin);
        const verticalOverlap = !(box1.bottom + safetyMargin < box2.top || box1.top > box2.bottom + safetyMargin);
        
        return horizontalOverlap && verticalOverlap;
      }

      // è®¡ç®—å¼¹å¹•åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„æ°´å¹³ä½ç½®
      function getDanmakuHorizontalPosition(danmakuInfo, currentTime) {
        const elapsed = (currentTime - danmakuInfo.startTime) / 1000; // ç§’
        if (elapsed < 0) return window.innerWidth; // è¿˜æ²¡å¼€å§‹
        
        const totalDistance = window.innerWidth + danmakuInfo.width;
        const speed = totalDistance / danmakuInfo.duration; // åƒç´ /ç§’
        const distanceMoved = speed * elapsed;
        
        // ä»å³ä¾§ï¼ˆ100%ï¼‰å¼€å§‹ï¼Œå‘å·¦ç§»åŠ¨
        return window.innerWidth - distanceMoved;
      }

      // æ£€æŸ¥æ–°å¼¹å¹•æ˜¯å¦ä¼šä¸ç°æœ‰å¼¹å¹•é‡å ï¼ˆæ£€æŸ¥æ•´ä¸ªåŠ¨ç”»è¿‡ç¨‹ä¸­çš„æ½œåœ¨ç¢°æ’ï¼‰
      function checkCollisionWithAllDanmakus(newBox, currentTime, excludeId = null, newDanmakuInfo = null) {
        for (const activeDanmaku of allActiveDanmakus) {
          if (excludeId && activeDanmaku.id === excludeId) continue;
          
          // è®¡ç®—ç°æœ‰å¼¹å¹•çš„å½“å‰æ°´å¹³ä½ç½®
          const currentLeft = getDanmakuHorizontalPosition(activeDanmaku, currentTime);
          const currentRight = currentLeft + activeDanmaku.width;
          
          // å¦‚æœå¼¹å¹•å·²ç»ç§»å‡ºå±å¹•ï¼Œè·³è¿‡
          if (currentRight < -50) continue;
          
          // æ„å»ºç°æœ‰å¼¹å¹•çš„è¾¹ç•Œæ¡†
          const existingBox = {
            left: currentLeft,
            right: currentRight,
            top: activeDanmaku.top,
            bottom: activeDanmaku.top + activeDanmaku.height
          };
          
          // æ£€æŸ¥æ˜¯å¦é‡å ï¼ˆä½¿ç”¨æ›´å¤§çš„å®‰å…¨é—´è·50pxï¼‰
          if (checkBoundaryOverlap(newBox, existingBox, 50)) {
            return true; // å‘ç°é‡å 
          }
          
          // å¦‚æœæä¾›äº†æ–°å¼¹å¹•ä¿¡æ¯ï¼Œæ£€æŸ¥æ•´ä¸ªåŠ¨ç”»è¿‡ç¨‹ä¸­çš„æ½œåœ¨ç¢°æ’
          if (newDanmakuInfo) {
            // æ£€æŸ¥æ–°å¼¹å¹•ç§»åŠ¨è¿‡ç¨‹ä¸­æ˜¯å¦ä¼šä¸ç°æœ‰å¼¹å¹•é‡å 
            const checkPoints = 10; // æ£€æŸ¥10ä¸ªæ—¶é—´ç‚¹
            for (let i = 0; i <= checkPoints; i++) {
              const checkTime = currentTime + (newDanmakuInfo.duration / checkPoints) * i * 1000;
              const newLeft = getDanmakuHorizontalPosition(newDanmakuInfo, checkTime);
              const newRight = newLeft + newDanmakuInfo.width;
              
              // å¦‚æœæ–°å¼¹å¹•å·²ç»ç§»å‡ºå±å¹•ï¼Œåœæ­¢æ£€æŸ¥
              if (newRight < -50) break;
              
              const futureNewBox = {
                left: newLeft,
                right: newRight,
                top: newBox.top,
                bottom: newBox.bottom
              };
              
              const futureExistingLeft = getDanmakuHorizontalPosition(activeDanmaku, checkTime);
              const futureExistingRight = futureExistingLeft + activeDanmaku.width;
              
              // å¦‚æœç°æœ‰å¼¹å¹•å·²ç»ç§»å‡ºå±å¹•ï¼Œè·³è¿‡
              if (futureExistingRight < -50) continue;
              
              const futureExistingBox = {
                left: futureExistingLeft,
                right: futureExistingRight,
                top: existingBox.top,
                bottom: existingBox.bottom
              };
              
              if (checkBoundaryOverlap(futureNewBox, futureExistingBox, 50)) {
                return true; // åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­å‘ç°æ½œåœ¨é‡å 
              }
            }
          }
        }
        return false; // æ²¡æœ‰é‡å 
      }

      function createDanmaku(text, trackIndex, delay, container) {
        if (!container) {
          const insightPage = document.querySelector('.page.insight');
          if (!insightPage) return;
          container = insightPage.querySelector(".danmaku-container");
          if (!container) return;
        }

        const danmaku = document.createElement("div");
        danmaku.className = "danmaku-item";
        danmaku.textContent = text;
        
        // å…ˆæ·»åŠ åˆ°DOMä»¥è·å–å®é™…å°ºå¯¸ï¼ˆä½†å…ˆéšè—ï¼‰
        danmaku.style.visibility = "hidden";
        danmaku.style.position = "absolute";
        container.appendChild(danmaku);
        const danmakuWidth = danmaku.offsetWidth;
        const danmakuHeight = danmaku.offsetHeight;
        
        const now = Date.now();
        
        // æ¸…ç†å·²ç»“æŸçš„å¼¹å¹•è®°å½•ï¼ˆæ›´ä¸¥æ ¼åœ°æ¸…ç†ï¼‰
        allActiveDanmakus = allActiveDanmakus.filter(item => {
          const elapsed = (now - item.startTime) / 1000;
          // åªä¿ç•™è¿˜åœ¨å±å¹•ä¸Šçš„å¼¹å¹•ï¼ˆåŠ¨ç”»æ—¶é—´+1ç§’ç¼“å†²å³å¯ï¼‰
          return elapsed < item.duration + 1;
        });
        
        // åŒæ—¶æ¸…ç†trackLastDanmakuä¸­è¿‡æœŸçš„è®°å½•
        for (const trackIdx in trackLastDanmaku) {
          const lastDanmaku = trackLastDanmaku[trackIdx];
          const elapsed = (now - lastDanmaku.time) / 1000;
          if (elapsed > lastDanmaku.duration + 2) {
            // å¦‚æœå¼¹å¹•å·²ç»å®Œå…¨ç§»å‡ºå±å¹•ï¼Œæ¸…é™¤è®°å½•
            delete trackLastDanmaku[trackIdx];
          }
        }
        
        // æ ¹æ®æ–‡æœ¬é•¿åº¦è°ƒæ•´åŠ¨ç”»é€Ÿåº¦
        const textLength = text.length;
        const baseDuration = 18;
        const duration = baseDuration + (textLength / 20) * 3;
        
        // è®¡ç®—ä¸å‰é¢å¼¹å¹•çš„æ°´å¹³é—´éš”ï¼ˆæ›´ä¸¥æ ¼çš„æ£€æŸ¥ï¼‰
        const lastDanmaku = trackLastDanmaku[trackIndex];
        if (lastDanmaku) {
          const timeSinceLast = (now - lastDanmaku.time) / 1000;
          const lastDuration = lastDanmaku.duration;
          const lastWidth = lastDanmaku.width;
          
          // é¦–å…ˆæ£€æŸ¥æ—¶é—´é—´éš”ï¼ˆæœ€ä¸¥æ ¼çš„è¦æ±‚ï¼‰
          const minTimeInterval = 15; // åŒä¸€è½¨é“ä¸Šå¼¹å¹•ä¹‹é—´è‡³å°‘é—´éš”15ç§’
          if (timeSinceLast < minTimeInterval) {
            const additionalTimeDelay = minTimeInterval - timeSinceLast;
            delay = Math.max(delay, additionalTimeDelay);
            // æ›´æ–°timeSinceLastç”¨äºåç»­è®¡ç®—
            const adjustedTimeSinceLast = timeSinceLast + additionalTimeDelay;
            
            // ç„¶åæ£€æŸ¥æ°´å¹³é—´è·
            const totalDistance = window.innerWidth + lastWidth;
            const speed = totalDistance / lastDuration;
            const distanceMoved = speed * adjustedTimeSinceLast;
            
            const minGap = 1200; // å¢åŠ æ°´å¹³æœ€å°é—´è·åˆ°1200px
            const requiredGap = lastWidth + minGap;
            
            if (distanceMoved < requiredGap) {
              const neededDistance = requiredGap - distanceMoved;
              const additionalDelay = neededDistance / speed;
              delay = Math.max(delay, additionalTimeDelay + additionalDelay);
            }
          } else {
            // å¦‚æœæ—¶é—´é—´éš”è¶³å¤Ÿï¼Œæ£€æŸ¥æ°´å¹³é—´è·
            const totalDistance = window.innerWidth + lastWidth;
            const speed = totalDistance / lastDuration;
            const distanceMoved = speed * timeSinceLast;
            
            const minGap = 1200; // å¢åŠ æ°´å¹³æœ€å°é—´è·åˆ°1200px
            const requiredGap = lastWidth + minGap;
            
            if (distanceMoved < requiredGap) {
              const neededDistance = requiredGap - distanceMoved;
              const additionalDelay = neededDistance / speed;
              delay = Math.max(delay, additionalDelay);
            }
          }
        }
        
        // å›ºå®šä¸‰è¡Œè½¨é“ï¼Œæ¯è¡Œå›ºå®šä½ç½®
        const containerHeight = container.offsetHeight;
        const safetyMargin = 50; // è¾¹ç•Œå®‰å…¨é—´è·
        const minTop = 20; // æœ€å°é¡¶éƒ¨ä½ç½®
        const maxBottom = containerHeight - 10; // æœ€å¤§åº•éƒ¨ä½ç½®ï¼ˆç•™10pxè¾¹è·ï¼‰
        
        // å›ºå®šä¸‰æ¡è½¨é“çš„ä½ç½®ï¼ˆå‡åŒ€åˆ†å¸ƒï¼‰
        const trackCount = 3;
        const availableHeight = maxBottom - minTop - danmakuHeight;
        const trackSpacing = availableHeight / (trackCount - 1);
        
        // å›ºå®šå‚ç›´ä½ç½®ï¼šç¬¬ä¸€æ¡è½¨é“åœ¨é¡¶éƒ¨ï¼Œç¬¬äºŒæ¡åœ¨ä¸­é—´ï¼Œç¬¬ä¸‰æ¡åœ¨åº•éƒ¨é™„è¿‘
        let verticalPosition = minTop + (trackIndex * trackSpacing);
        
        // ç¡®ä¿ä¸ä¼šè¶…å‡ºå®¹å™¨
        verticalPosition = Math.max(minTop, Math.min(verticalPosition, maxBottom - danmakuHeight));
        let foundPosition = false;
        let maxAttempts = 100; // å¢åŠ å°è¯•æ¬¡æ•°åˆ°100æ¬¡
        let attempts = 0;
        
        // è®¡ç®—æ–°å¼¹å¹•åœ¨å¼€å§‹æ—¶çš„æ°´å¹³ä½ç½®
        const startLeft = window.innerWidth;
        const startRight = startLeft + danmakuWidth;
        
        // é¦–å…ˆæ£€æŸ¥åˆå§‹ä½ç½®æ˜¯å¦åœ¨å®¹å™¨èŒƒå›´å†…
        if (verticalPosition + danmakuHeight > maxBottom) {
          verticalPosition = minTop; // é‡ç½®åˆ°é¡¶éƒ¨
        }
        
        while (!foundPosition && attempts < maxAttempts) {
          // ç¡®ä¿ä½ç½®åœ¨å®¹å™¨èŒƒå›´å†…
          if (verticalPosition < minTop) {
            verticalPosition = minTop;
          }
          if (verticalPosition + danmakuHeight > maxBottom) {
            // å¦‚æœè¶…å‡ºåº•éƒ¨ï¼Œå°è¯•å‘ä¸Šå¯»æ‰¾
            let foundUpward = false;
            for (let testTop = minTop; testTop < maxBottom - danmakuHeight; testTop += 8) {
              const testBox = {
                left: startLeft,
                right: startRight,
                top: testTop,
                bottom: testTop + danmakuHeight
              };
              
              const testNewDanmakuInfo = {
                startTime: now + delay * 1000,
                duration: duration,
                width: danmakuWidth
              };
              
              const checkTime = now + delay * 1000;
              if (!checkCollisionWithAllDanmakus(testBox, checkTime, null, testNewDanmakuInfo)) {
                verticalPosition = testTop;
                foundUpward = true;
                foundPosition = true;
                break;
              }
            }
            
            if (!foundUpward) {
              // å¦‚æœå‘ä¸Šæ‰¾ä¸åˆ°ä½ç½®ï¼Œè¿”å›nullè¡¨ç¤ºæ— æ³•æ”¾ç½®
              console.log("æ— æ³•æ‰¾åˆ°åˆé€‚çš„å¼¹å¹•ä½ç½®ï¼Œè·³è¿‡æ­¤å¼¹å¹•");
              danmaku.remove();
              return; // ä¸åˆ›å»ºè¿™ä¸ªå¼¹å¹•
            }
            break;
          }
          
          // æ„å»ºæ–°å¼¹å¹•çš„è¾¹ç•Œæ¡†
          const newBox = {
            left: startLeft,
            right: startRight,
            top: verticalPosition,
            bottom: verticalPosition + danmakuHeight
          };
          
          // æ£€æŸ¥ä¸æ‰€æœ‰ç°æœ‰å¼¹å¹•çš„ç¢°æ’ï¼ˆè€ƒè™‘å»¶è¿Ÿåçš„æ—¶é—´ï¼‰
          const checkTime = now + delay * 1000;
          
          // å‡†å¤‡æ–°å¼¹å¹•ä¿¡æ¯ç”¨äºé¢„æµ‹æ€§ç¢°æ’æ£€æµ‹
          const newDanmakuInfo = {
            startTime: checkTime,
            duration: duration,
            width: danmakuWidth
          };
          
          // ä¸ä»…æ£€æŸ¥å¼€å§‹ä½ç½®ï¼Œè¿˜è¦æ£€æŸ¥æ•´ä¸ªåŠ¨ç”»è¿‡ç¨‹
          if (!checkCollisionWithAllDanmakus(newBox, checkTime, null, newDanmakuInfo)) {
            foundPosition = true;
            break;
          }
          
          // å¦‚æœé‡å ï¼Œå°è¯•ä¸‹ä¸€ä¸ªä½ç½®ï¼ˆæ¯æ¬¡å¢åŠ 8pxï¼Œæ›´ç²¾ç»†ï¼‰
          verticalPosition += 8;
          attempts++;
        }
        
        // å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ä½ç½®ï¼Œä¸åˆ›å»ºå¼¹å¹•
        if (!foundPosition) {
          console.log("ç»è¿‡å¤šæ¬¡å°è¯•ä»æ— æ³•æ‰¾åˆ°åˆé€‚çš„å¼¹å¹•ä½ç½®ï¼Œè·³è¿‡æ­¤å¼¹å¹•");
          danmaku.remove();
          return; // ä¸åˆ›å»ºè¿™ä¸ªå¼¹å¹•
        }
        
        // æœ€ç»ˆæ£€æŸ¥ï¼šç¡®ä¿ä½ç½®åœ¨å®¹å™¨èŒƒå›´å†…
        verticalPosition = Math.max(minTop, Math.min(verticalPosition, maxBottom - danmakuHeight));
        
        danmaku.style.top = `${verticalPosition}px`;
        danmaku.style.visibility = "visible";
        danmaku.style.animationDuration = `${duration}s`;
        danmaku.style.animationDelay = `${delay}s`;
        
        // ç”Ÿæˆå”¯ä¸€IDç”¨äºè·Ÿè¸ª
        const danmakuId = `danmaku_${now}_${Math.random().toString(36).substr(2, 9)}`;
        
        // è®°å½•è¿™æ¡å¼¹å¹•çš„ä¿¡æ¯
        trackLastDanmaku[trackIndex] = {
          time: now,
          duration: duration,
          width: danmakuWidth
        };
        
        // è®°å½•åˆ°å…¨å±€æ´»åŠ¨å¼¹å¹•åˆ—è¡¨
        allActiveDanmakus.push({
          id: danmakuId,
          top: verticalPosition,
          height: danmakuHeight,
          width: danmakuWidth,
          startTime: now + delay * 1000, // å®é™…å¼€å§‹æ—¶é—´
          duration: duration,
          trackIndex: trackIndex
        });
        
        // å¼ºåˆ¶æµè§ˆå™¨åº”ç”¨æ ·å¼å’ŒåŠ¨ç”»
        danmaku.offsetHeight;
        danmaku.style.animationPlayState = "running";

        // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
        danmaku.addEventListener("animationend", () => {
          danmaku.remove();
          // ä»æ´»åŠ¨å¼¹å¹•åˆ—è¡¨ä¸­ç§»é™¤
          const index = allActiveDanmakus.findIndex(item => item.id === danmakuId);
          if (index > -1) {
            allActiveDanmakus.splice(index, 1);
          }
        });
      }

      let danmakuInterval = null;
      let danmakuIndex = 0;
      let danmakuContainer = null;
      // è·Ÿè¸ªæ¯ä¸ªè½¨é“ä¸Šæœ€åä¸€æ¡å¼¹å¹•çš„åˆ›å»ºæ—¶é—´å’Œä¿¡æ¯
      let trackLastDanmaku = {};
      // è·Ÿè¸ªæ‰€æœ‰æ´»åŠ¨å¼¹å¹•çš„å®Œæ•´è¾¹ç•Œä¿¡æ¯ï¼ˆç”¨äºç²¾ç¡®ç¢°æ’æ£€æµ‹ï¼‰
      let allActiveDanmakus = [];

      function initDanmaku() {
        console.log("åˆå§‹åŒ–å¼¹å¹•");
        
        // ç¡®ä¿åœ¨insighté¡µé¢å†…æŸ¥æ‰¾å®¹å™¨
        const container = document.querySelector(".page.insight .danmaku-container");
        if (!container) {
          console.log("å¼¹å¹•å®¹å™¨æœªæ‰¾åˆ°ï¼Œå°è¯•å…¶ä»–æ–¹å¼");
          const allPages = document.querySelectorAll('.page');
          allPages.forEach((page, idx) => {
            if (page.classList.contains('insight')) {
              const c = page.querySelector(".danmaku-container");
              if (c) {
                console.log("åœ¨é¡µé¢", idx, "æ‰¾åˆ°å®¹å™¨");
                initDanmakuInContainer(c);
                return;
              }
            }
          });
          return;
        }

        initDanmakuInContainer(container);
      }
      
      function initDanmakuInContainer(container) {
        console.log("åœ¨å®¹å™¨ä¸­åˆ›å»ºå¼¹å¹•");
        
        // ä¿å­˜containerå¼•ç”¨
        danmakuContainer = container;
        
        // æ¸…ç©ºç°æœ‰å¼¹å¹•å’Œè·Ÿè¸ªä¿¡æ¯
        container.innerHTML = "";
        danmakuIndex = 0;
        trackLastDanmaku = {};
        allActiveDanmakus = [];

        const trackCount = 3; // å›ºå®š3æ¡è½¨é“
        
        // è·Ÿè¸ªå½“å‰åº”è¯¥ä½¿ç”¨çš„è½¨é“ï¼ˆæŒ‰é¡ºåºå¾ªç¯ï¼‰
        let currentTrackIndex = 0;

        // åªåˆ›å»º3æ¡åˆå§‹å¼¹å¹•ï¼Œæ¯æ¡è½¨é“ä¸€æ¡ï¼Œé”™å¼€æ—¶é—´
        console.log("åˆ›å»ºåˆå§‹å¼¹å¹•");
        for (let i = 0; i < trackCount; i++) {
          const text = danmakuTexts[danmakuIndex % danmakuTexts.length];
          const delay = i * 10; // æ¯æ¡å¼¹å¹•é—´éš”10ç§’ï¼Œç¡®ä¿ä¸ä¼šåŒæ—¶å‡ºç°
          createDanmaku(text, i, delay, container);
          danmakuIndex++;
        }

        // æŒç»­æ·»åŠ æ–°å¼¹å¹•ï¼ŒæŒ‰è½¨é“é¡ºåºå¾ªç¯ï¼Œç¡®ä¿æ¯æ¡è½¨é“ä¸Šçš„å¼¹å¹•ä¸ä¼šåŒæ—¶å‡ºç°
        if (danmakuInterval) {
          clearInterval(danmakuInterval);
        }
        danmakuInterval = setInterval(() => {
          if (!danmakuContainer) return;
          
          // æŒ‰é¡ºåºå¾ªç¯ä½¿ç”¨è½¨é“ï¼š0, 1, 2, 0, 1, 2...
          const trackIndex = currentTrackIndex;
          currentTrackIndex = (currentTrackIndex + 1) % trackCount;
          
          const text = danmakuTexts[danmakuIndex % danmakuTexts.length];
          
          // è®¡ç®—ä¸åŒè½¨é“ä¸Šä¸€æ¡å¼¹å¹•çš„æœ€å°é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰
          const minIntervalBetweenSameTrack = 15; // åŒä¸€è½¨é“ä¸Šå¼¹å¹•ä¹‹é—´è‡³å°‘é—´éš”15ç§’
          
          // æ£€æŸ¥åŒè½¨é“ä¸Šæœ€åä¸€æ¡å¼¹å¹•çš„æ—¶é—´
          const lastDanmaku = trackLastDanmaku[trackIndex];
          let baseDelay = 0;
          
          if (lastDanmaku) {
            const timeSinceLast = (Date.now() - lastDanmaku.time) / 1000; // ç§’
            if (timeSinceLast < minIntervalBetweenSameTrack) {
              // å¦‚æœè·ç¦»ä¸Šä¸€æ¡å¼¹å¹•æ—¶é—´å¤ªçŸ­ï¼Œå¢åŠ å»¶è¿Ÿ
              baseDelay = minIntervalBetweenSameTrack - timeSinceLast;
            }
          }
          
          createDanmaku(text, trackIndex, baseDelay, danmakuContainer);
          danmakuIndex++;
        }, 8000); // æ¯8ç§’å°è¯•æ·»åŠ ä¸€æ¡æ–°å¼¹å¹•ï¼ŒæŒ‰è½¨é“é¡ºåºå¾ªç¯ï¼Œå¢åŠ é—´éš”é¿å…é‡å 
        
        // æ·»åŠ å…¨å±€å®šæœŸæ¸…ç†æœºåˆ¶ï¼Œç¡®ä¿ä¸ä¼šç´¯ç§¯è¿‡å¤šè¿‡æœŸçš„å¼¹å¹•è®°å½•
        if (window.danmakuCleanupInterval) {
          clearInterval(window.danmakuCleanupInterval);
        }
        window.danmakuCleanupInterval = setInterval(() => {
          const currentTime = Date.now();
          // æ¸…ç†è¿‡æœŸçš„æ´»åŠ¨å¼¹å¹•è®°å½•
          allActiveDanmakus = allActiveDanmakus.filter(item => {
            const elapsed = (currentTime - item.startTime) / 1000;
            return elapsed < item.duration + 2;
          });
          // æ¸…ç†è¿‡æœŸçš„è½¨é“è®°å½•
          for (const trackIdx in trackLastDanmaku) {
            const lastDanmaku = trackLastDanmaku[trackIdx];
            const elapsed = (currentTime - lastDanmaku.time) / 1000;
            if (elapsed > lastDanmaku.duration + 5) {
              delete trackLastDanmaku[trackIdx];
            }
          }
        }, 3000); // æ¯3ç§’æ¸…ç†ä¸€æ¬¡ï¼Œç¡®ä¿åŠæ—¶æ¸…ç†
      }

      function stopDanmaku() {
        if (danmakuInterval) {
          clearInterval(danmakuInterval);
          danmakuInterval = null;
        }
        if (window.danmakuCleanupInterval) {
          clearInterval(window.danmakuCleanupInterval);
          window.danmakuCleanupInterval = null;
        }
        const insightPage = document.querySelector('.page.insight');
        if (insightPage) {
          const container = insightPage.querySelector(".danmaku-container");
          if (container) {
            container.innerHTML = "";
          }
        }
        // æ¸…ç©ºæ‰€æœ‰è·Ÿè¸ªä¿¡æ¯
        allActiveDanmakus = [];
        trackLastDanmaku = {};
      }
    </script>
  </body>
</html>

